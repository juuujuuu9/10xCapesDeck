---
import { LazyVideo } from '../../LazyVideo.tsx';

export interface Props {
	videos: Array<{
		src?: string;
		videoId?: string;
		poster?: string;
		pullZone?: string;
		priority?: boolean;
	}>;
	title?: string;
}

const { videos, title = "short form social" } = Astro.props;
---

<section class="w-full h-dvh p-12 snap-start snap-always flex flex-col overflow-hidden">
	{title && (
		<div class="w-full text-center mb-8 shrink-0 sticky top-0 z-10 bg-white">
			<h2 class="text-[#ca2c1e] text-[2rem] md:text-[3.5rem] lowercase font-semibold">
				{title}
			</h2>
		</div>
	)}
	<div class="flex-1 overflow-y-auto overflow-x-hidden scrollbar-hide">
		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-full min-h-full items-center justify-center py-4">
			{videos.map((video) => (
				<div class="w-full h-full flex items-center justify-center p-0 min-h-[50vh]">
					<LazyVideo
						client:load
						src={video.src}
						videoId={video.videoId}
						poster={video.poster}
						pullZone={video.pullZone}
						priority={video.priority || false}
						className="max-w-full max-h-full w-auto h-auto object-contain"
						autoPlay
						loop
						muted
						playsInline
					/>
				</div>
			))}
		</div>
	</div>
</section>
