---
import { LazyVideo } from '../../LazyVideo.tsx';
import { LazyImage } from '../../LazyImage.tsx';

export interface Props {
	videoSrc?: string;
	imageSrc?: string;
	id?: string;
}

const { 
	videoSrc = 'https://times-10-video-offload.b-cdn.net/influencer-marketing%20(online-video-cutter.com).mp4',
	imageSrc = '/wp-content/uploads/2025/02/jf-Instagram-Stories.png',
	id
} = Astro.props;
---

<section id={id} class="w-full h-dvh max-h-dvh pl-2 pr-2 md:pl-4 md:pr-2 lg:pl-8 lg:pr-40 snap-start snap-always flex flex-col overflow-hidden box-border">
	<div class="w-full flex-1 min-h-0 flex flex-col lg:flex-row justify-center lg:justify-start items-center lg:items-stretch gap-2 md:gap-4 lg:gap-8">
		{/* Left side: Text content */}
		<div class="lg:flex-none pl-0 xl:pl-8 lg:w-[40%] flex flex-col items-center lg:items-start justify-center">
			{/* Red text */}
			<h2 class="text-[#ca2c1e] text-center lg:text-left max-w-[340px] mb-6 lg:mb-0 lg:max-w-[500px] mx-auto lg:mx-0 text-[2rem] lg:text-[3rem] lowercase font-bold leading-none tracking-wide">
				influencer marketing & paid media
			</h2>
		</div>

		{/* Right side: Two iPhone images/videos */}
		<div class="lg:flex-1 w-full lg:w-[60%] min-h-0 min-w-0 max-w-full relative flex flex-row items-center justify-center gap-2 md:gap-4 lg:gap-8 overflow-hidden">
			{/* First iPhone - Video */}
			<div class="flex-1 min-w-0 w-full max-w-[300px] lg:max-w-none lg:w-auto lg:max-w-[50%] xl:max-w-[40%] relative overflow-hidden flex items-center justify-center aspect-[9/16] lg:aspect-auto lg:h-full">
				<LazyVideo
					client:load
					src={videoSrc}
					priority={true}
					autoPlay
					muted
					loop
					playsInline
					className="w-full h-full object-contain"
				/>
			</div>

			{/* Second iPhone - Image */}
			<div class="flex-1 p-2 min-w-0 w-full max-w-[300px] lg:max-w-none lg:w-auto h-auto max-h-full lg:max-w-[50%] xl:max-w-[40%] relative overflow-hidden">
				<LazyImage
					client:visible
					src={imageSrc}
					alt="Instagram Stories influencer marketing example"
					priority={true}
					pullZone="wordpress"
					width={1200}
					quality={85}
					blurPlaceholder={false}
					className="w-full h-auto object-contain"
				/>
			</div>
		</div>
	</div>
</section>
